# 建設現場管理システム 要件定義書

## 概要
建設現場でのExcel・紙ベースの案件管理・シフト調整・支払い処理をデジタル化し、現場スタッフ向けスマホアプリと管理者向けWebアプリで効率的な業務管理を実現するシステムです。手作業による入力ミスを削減し、リアルタイムでの情報共有と業務効率化を図ります。

## 要件

### 要件1: 認証・ユーザー管理機能
**目的:** 従業員として、電話番号と招待コードによる簡単な認証で、安全にシステムにアクセスしたい

#### 受け入れ条件
1. WHEN 新規従業員が電話番号と招待コードを入力 THEN 建設管理システム SHALL 認証情報を検証し、アカウントを作成する
2. WHEN 既存従業員がログイン情報を入力 THEN 建設管理システム SHALL 認証を行い、役割に応じたダッシュボードへリダイレクトする
3. IF ユーザーが管理者権限を持つ THEN 建設管理システム SHALL Web管理画面へのアクセスを許可する
4. IF ユーザーが一般従業員である THEN 建設管理システム SHALL スマホアプリ機能へのアクセスを許可する
5. WHEN 無効な認証情報が入力される THEN 建設管理システム SHALL エラーメッセージを表示し、再試行を促す

### 要件2: 案件管理機能（Web管理者向け）
**目的:** 管理者として、建設案件の詳細情報をスプレッドシート風のUIで効率的に登録・管理したい

#### 受け入れ条件
1. WHEN 管理者が案件情報を入力 THEN 建設管理システム SHALL スプレッドシート風のUIで案件データを保存する
2. WHEN 管理者が案件テンプレートを作成 THEN 建設管理システム SHALL テンプレートを保存し、新規案件作成時に利用可能にする
3. WHILE 案件データが入力されている THE 建設管理システム SHALL リアルタイムでバリデーションを実行する
4. WHERE 案件管理画面において THE 建設管理システム SHALL 元請・顧客・場所・従業員・派遣会社のマスタデータを管理する機能を提供する
5. WHEN 案件データが更新される THEN 建設管理システム SHALL 関連する従業員のスマホアプリにリアルタイムで反映する

### 要件3: シフト管理機能
**目的:** 従業員として、スマホで簡単にシフト希望を提出し、管理者として効率的にシフトを確定・管理したい

#### 受け入れ条件（従業員向けスマホアプリ）
1. WHEN 従業員がシフト提出画面を開く THEN 建設管理システム SHALL ◯×△選択形式でシフト希望を入力できる画面を表示する
2. WHEN 従業員がシフト希望を送信 THEN 建設管理システム SHALL データを即座に管理者画面に反映する
3. WHILE シフト提出期限内である THE 建設管理システム SHALL 従業員にシフト提出を促す通知を送信する

#### 受け入れ条件（管理者向けWeb）
4. WHERE 管理者画面において THE 建設管理システム SHALL 全従業員のシフト提出状況を一覧表示する
5. WHEN 管理者がシフトを確定 THEN 建設管理システム SHALL 従業員へ確定通知を送信し、現場配置を更新する
6. IF シフト提出期限が設定されている THEN 建設管理システム SHALL 期限管理機能を提供する
7. WHEN シフト変更が発生 THEN 建設管理システム SHALL リアルタイムで関係者に更新を通知する

### 要件4: 支払い管理機能（Web管理者向け）
**目的:** 管理者として、週次の支払い処理を効率化し、正確な請求書を発行したい

#### 受け入れ条件
1. WHERE 支払い管理画面において THE 建設管理システム SHALL 自社・個人事業主・派遣会社ごとの週次支払い管理機能を提供する
2. WHEN 管理者が交通費入力モードを選択 THEN 建設管理システム SHALL 日別または週別の切り替え機能を提供する
3. WHEN 請求書生成が要求される THEN 建設管理システム SHALL PDF形式で請求書を出力する
4. WHILE 支払いデータが入力されている THE 建設管理システム SHALL 自動計算により合計金額を算出する
5. IF 支払い処理が完了 THEN 建設管理システム SHALL 処理状況を記録し、関係者に通知する

### 要件5: 従業員向けホーム画面機能（スマホアプリ）
**目的:** 従業員として、今日の予定と重要な情報を一目で確認したい

#### 受け入れ条件
1. WHEN 従業員がホーム画面を開く THEN 建設管理システム SHALL 当日のシフト情報を表示する
2. WHERE ホーム画面において THE 建設管理システム SHALL 週間予定を視覚的に分かりやすく表示する
3. WHEN 重要なお知らせがある THEN 建設管理システム SHALL プッシュ通知で従業員に通知する
4. WHILE アプリが起動中である THE 建設管理システム SHALL リアルタイムでシフト変更やお知らせを更新する

### 要件6: レポート・集計機能（Web管理者向け）
**目的:** 管理者として、事業の売上・コスト分析のための詳細なレポートを取得したい

#### 受け入れ条件
1. WHEN 管理者がレポート生成を要求 THEN 建設管理システム SHALL 月次・年次レポートを売上・人件費・交通費の内訳付きで生成する
2. WHERE レポート画面において THE 建設管理システム SHALL データを視覚的なグラフやチャートで表示する
3. WHEN CSV出力が要求される THEN 建設管理システム SHALL 会計ソフト連携用のフォーマットでデータを出力する
4. IF 特定期間の分析が必要 THEN 建設管理システム SHALL 期間指定によるカスタムレポート機能を提供する

### 要件7: システム設定・その他機能
**目的:** ユーザーとして、使いやすいUI環境と十分なサポート情報でシステムを利用したい

#### 受け入れ条件
1. WHERE UI設定において THE 建設管理システム SHALL ダークモードを含むテーマ調整機能を提供する
2. WHEN ユーザーがヘルプを求める THEN 建設管理システム SHALL 操作マニュアルを提供する
3. IF データのバックアップが必要 THEN 建設管理システム SHALL データエクスポート機能を提供する
4. WHILE システムが稼働中である THE 建設管理システム SHALL 安定したパフォーマンスを維持する